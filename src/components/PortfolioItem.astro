---
import Prose from "./Prose.astro"
import type { CollectionEntry } from "astro:content";

interface Props {
    project: CollectionEntry<"projects">
    class?: string
}

const { project, class: className, ...rest } = Astro.props;

const { Content }  = await project.render()
---
<style>
    .portfolio-item :global(img) {
        @media screen(sm) {
            float: right;
            width: 50%;
            margin: 0 0 1rem 1rem;
        }
    }
    h2 svg {
        display: inline-block;
    }
</style>

<article class=`portfolio-item ${className}` {...rest}>
    <Prose>
        <header class="flex flew-row gap-2">
            <h2 class="m-0 inline">
                {project.data.name}
            </h2>
            <div class="mt-1 self-center flex flex-row">
                {project.data.repo
                    ? <a href={project.data.repo}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="text-cyan-700" viewBox="0 0 24 24" fill="currentColor"><path d="M13 21V23.5L10 21.5L7 23.5V21H6.5C4.567 21 3 19.433 3 17.5V5C3 3.34315 4.34315 2 6 2H20C20.5523 2 21 2.44772 21 3V20C21 20.5523 20.5523 21 20 21H13ZM7 19V17H13V19H19V16H6.5C5.67157 16 5 16.6716 5 17.5C5 18.3284 5.67157 19 6.5 19H7ZM7 5V7H9V5H7ZM7 8V10H9V8H7ZM7 11V13H9V11H7Z"></path>
                        </svg>
                    </a> 
                    : ""
                }
            </div>
        </header>
        <Content />
    </Prose>
</article>